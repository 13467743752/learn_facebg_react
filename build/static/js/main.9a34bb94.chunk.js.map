{"version":3,"sources":["pages/Login.js","components/Home.js","components/Camera.js","api/index.js","components/AllPlayer.js","components/Player.js","components/Main.js","components/Header.js","pages/Main.js","App.js","serviceWorker.js","index.js"],"names":["Login","_ref","saveToken","_useState","useState","_useState2","Object","slicedToArray","account","setAccount","_useState3","_useState4","password","setPassword","react_default","a","createElement","onSubmit","e","preventDefault","alert","type","onChange","target","value","axios","defaults","withCredentials","HelloMessage","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","liked","textvalue","undefined","navigator","mediaDevices","getUserMedia","constraints","webkitGetUserMedia","mozGetUserMedia","Promise","resolve","reject","Error","audio","video","then","stream","document","querySelector","srcObject","src","window","URL","createObjectURL","onloadedmetadata","play","catch","err","name","message","videoElement","getElementById","context1","getContext","fillStyle","fillRect","drawImage","get","test","console","info","data","text","onClick","getinfo","bind","id","autoPlay","width","height","placeholder","size","accept","capture","Component","Home","Home_HelloMessage","handlePhoto","log","facingMode","success","error","concat","setState","oncanplaythrough","className","style","opacity","position","zIndex","muted","controls","alt","saveImage","Camera","Camera_HelloMessage","PlayerAPI","players","all","find","p","AllPlayer","useEffect","method","url","res","map","key","react_router_dom","to","Player","player","parseInt","match","params","Main","react_router","exact","path","component","Header","loginTokeh","es5","theme","defaultActive","mode","onSelect","Item","index","SubMenu","title","cookie","remove","AppLayout","token","setToken","load","cookieTime","Date","getTime","save","expires","components_Header","components_Main","App","Boolean","location","hostname","ReactDOM","render","src_App","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9a34bb94.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\n\r\nexport default ({ saveToken }) => {\r\n    const [account, setAccount] = useState();\r\n    const [password, setPassword] = useState();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // 判断输入帐号和密码\r\n        if (account == 'admin' && password == '123456') {\r\n            saveToken(account);\r\n        } else {\r\n            alert('Invalid account or password!');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Login</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <label>\r\n                    <p>Account:</p>\r\n                    <input type=\"text\" onChange={e => setAccount(e.target.value)} />\r\n                </label>\r\n                <label>\r\n                    <p>Password:</p>\r\n                    <input type=\"password\" onChange={e => setPassword(e.target.value)} />\r\n                </label>\r\n                <p>\r\n                    <button type=\"submit\">Submit</button>\r\n                </p>\r\n            </form>\r\n        </div>\r\n    );\r\n}","import React, { Component } from 'react'\nimport axios from 'axios'\naxios.defaults.withCredentials=true\nconst Home = () => (\n  <div>\n    <h1>我是主页</h1>\n    <HelloMessage></HelloMessage>\n  </div>\n)\nclass HelloMessage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { liked: false, textvalue: false };\n  }\n  componentDidMount() {\n    // this.videoCamera()\n  }\n  videoCamera() {\n    // var video = document.getElementById(\"video\");\n\n\n    // 老的浏览器可能根本没有实现 mediaDevices，所以我们可以先设置一个空的对象\n    if (navigator.mediaDevices === undefined) {\n      navigator.mediaDevices = {};\n    }\n    // 一些浏览器部分支持 mediaDevices。我们不能直接给对象设置 getUserMedia\n    // 因为这样可能会覆盖已有的属性。这里我们只会在没有getUserMedia属性的时候添加它。\n    if (navigator.mediaDevices.getUserMedia === undefined) {\n      navigator.mediaDevices.getUserMedia = function (constraints) {\n        // 首先，如果有getUserMedia的话，就获得它\n        var getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n        // 一些浏览器根本没实现它 - 那么就返回一个error到promise的reject来保持一个统一的接口\n        if (!getUserMedia) {\n          return Promise.reject(new Error('getUserMedia is not implemented in this browser'));\n        }\n        // 否则，为老的navigator.getUserMedia方法包裹一个Promise\n        return new Promise(function (resolve, reject) {\n          getUserMedia.call(navigator, constraints, resolve, reject);\n        });\n      }\n    }\n    navigator.mediaDevices.getUserMedia({ audio: true, video: true })\n      .then(function (stream) {\n        var video = document.querySelector('video');\n        // 旧的浏览器可能没有srcObject\n        if (\"srcObject\" in video) {\n          video.srcObject = stream;\n        } else {\n          // 防止在新的浏览器里使用它，应为它已经不再支持了\n          video.src = window.URL.createObjectURL(stream);\n        }\n        video.onloadedmetadata = function (e) {\n          video.play();\n        };\n      })\n      .catch(function (err) {\n        alert(err.name + \": \" + err.message);\n      });\n    // var constraints = { audio: true, video: true }\n    // navigator.mediaDevices.getUserMedia(constraints)\n    //   .then(function (stream) {\n    //     /* 使用这个stream stream */\n    //     video.src = window.webkitURL.createObjectURL(stream);\n    //   })\n    //   .catch(function (err) {\n    //     /* 处理error */\n    //     alert(err)\n    //   });\n    // window.navigator.getUserMedia = window.navigator.getUserMedia || window.navigator.webkitGetUserMedia;\n    // if (window.navigator.getUserMedia) {\n    //   if (window.navigator.webkitURL) {\n    //     window.navigator.getUserMedia(\"video\", function (stream) {\n    //       video.src = window.webkitURL.createObjectURL(stream);\n    //     }, function (error) { alert(error); });\n    //   }\n    //   else {\n    //     window.navigator.getUserMedia(\"video\", function (stream) {\n    //       video.src = window.webkitURL.createObjectURL(stream);\n    //     }, function (error) { alert(error); });\n    //   }\n    // }\n    // else {\n    //   alert(\"navigator.getUserMedia  Error\");\n    // }\n  }\n  scamera() {\n    var videoElement = document.getElementById('video');\n    var canvasObj = document.getElementById('canvas1');\n    var context1 = canvasObj.getContext('2d');\n    context1.fillStyle = \"#ffffff\";\n    context1.fillRect(0, 0, 320, 240);\n    context1.drawImage(videoElement, 0, 0, 320, 240);\n  }\n\n  async getinfo() {\n    let test = await axios.get(\"http://activate.navicat.com/getinfo/api/v1/component/componenttree\")\n    // .then(response => {\n    //   if(this.state.liked)\n    //   {\n    //     this.setState({liked:false})\n    //   }else{\n    //     this.setState({liked:true,textvalue:JSON.stringify(response.data)})\n    //   }\n    // })\n    // .catch(error => {\n    //   this.setState({liked:true,textvalue:JSON.stringify(error)})\n    // });\n    console.info(test)\n    console.info(test.data)\n  }\n  render() {\n    const text = this.state.liked ? this.state.textvalue : 'haven\\'t liked';\n    return (\n      <div>\n        <p onClick={this.getinfo.bind(this)}>\n          You {text} this. Click to toggle.\n        </p>\n\n        <video id=\"video\" autoPlay=\"\" width=\"320px\" height=\"240px\"></video>\n\n        <canvas id=\"canvas1\" width=\"320\" height=\"240\"></canvas>\n\n        <div><input type=\"text\" id=\"testInput\" placeholder=\"截屏后粘贴到输入框中\" size=\"30\" /></div>\n\n        <input type=\"file\" accept=\"image/*\" capture=\"camera\" />安卓和IOS都为：拍照\n\n        <input type=\"file\" accept=\"video/*\" capture=\"camcorder\" />安卓和IOS都为：录像\n\n        <input type=\"file\" accept=\"audio/*\" capture=\"microphone\" />安卓为录音（ios视频或照片）\n\n        <input type=\"file\" accept=\"image/*\" />安卓为相机或照片（ios为拍照或图库2）\n\n        <input type=\"file\" accept=\"video/*\" />安卓为录像或视频录--（ios为录像或照片图库【照片图库已做筛选，全是视频】）\n\n        <input type=\"file\" accept=\"audio/*\" />安卓为录音机音乐之类的（ios为拍照或录像【包含视频和照片】）\n\n      </div>\n    );\n  }\n}\n\nexport default Home\n","import React, { Component } from 'react'\n\n\nconst Camera = () => (\n  <div>\n    <h1>我是主页</h1>\n    <HelloMessage></HelloMessage>\n  </div>\n)\nclass HelloMessage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { liked: false, textvalue: \"11111111111\" ,text:\"1\"};\n  }\n  componentDidMount() {\n    this.handlePhoto()\n  }\n  handlePhoto() {\n    if (navigator.mediaDevices.getUserMedia || navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia) {\n      console.log('调用了')\n      this.getUserMedia({ video: { facingMode: \"user\" } }, this.success.bind(this), error);\n    } else {\n      alert('不支持访问用户媒体');\n    }\n    if (!navigator.mediaDevices) {\n      alert(\"不支持访问用户媒体\")\n      return\n    }\n    function error(error) {\n      console.log(`访问用户媒体设备失败${error.name}, ${error.message}`);\n    }\n  }\n  success(stream) {\n    let video = document.getElementById('video');\n    \n    //兼容webkit核心浏览器\n    // let CompatibleURL = window.URL || window.webkitURL;\n    //将视频流设置为video元素的源\n    // video.src = CompatibleURL.createObjectURL(stream);\n    // video.srcObject = window.webkitURL.createObjectURL(stream);\n    video.srcObject = stream;\n    this.setState({\n      textvalue:this.state.textvalue+\"2\"\n    })\n    video.oncanplaythrough = function(e) {\n      // video.load();\n      // alert(1)\n      // video.play();\n    };\n    \n    // if (video.paused)\n    //   video.play();\n    // else\n    //   video.pause();\n  }\n  getUserMedia(constraints, success, error) {\n    if (navigator.mediaDevices.getUserMedia) {\n      //最新的标准API\n      navigator.mediaDevices.getUserMedia(constraints).then(success).catch(error);\n    } else if (navigator.webkitGetUserMedia) {\n      //webkit核心浏览器\n      navigator.webkitGetUserMedia(constraints, success, error)\n    } else if (navigator.mozGetUserMedia) {\n      //firfox浏览器\n      navigator.mozGetUserMedia(constraints, success, error);\n    } else if (navigator.getUserMedia) {\n      //旧版API\n      navigator.getUserMedia(constraints, success, error);\n    }\n  }\n  saveImage(){\n    let video = document.getElementById('video');\n    var canvas = document.getElementById('canvas');\n    var ctx = canvas.getContext('2d');\n    ctx.drawImage(video, 0, 0, 320, 240);  // 将video中的数据绘制到canvas里\n  }\n  render() {\n    return (\n      <div className='identify' >\n        <video style={{opacity:0,position:'absolute',zIndex:1}} id=\"video\" muted  controls width=\"320px\" height=\"240px\"></video>\n        <div>\n          <img style={{width:'320px',height:'240px'}} alt='截图' src='https://www.mzwu.com/pic/202010/034.jpg'/>\n        </div>\n        <canvas id=\"canvas\" width={'320px'} height={'240px'}></canvas>\n        <div><button onClick={this.saveImage}>拍照</button></div>\n      </div>\n    )\n  }\n}\n\nexport default Camera","const PlayerAPI = {\n  players: [\n    { id: 1, name: \"Ben Blocker\", position: \"G\" },\n    { id: 2, name: \"Dave Defender\", position: \"D\" },\n    { id: 3, name: \"Sam Sweeper\", position: \"D\" },\n    { id: 4, name: \"Matt Midfielder\", position: \"M\" },\n    { id: 5, name: \"William Winger\", position: \"M\" },\n    { id: 6, name: \"Fillipe Forward\", position: \"F\" }\n  ],\n  all: function() { return this.players},\n  get: function(id) {\n    const isPlayer = p => p.id === id\n    return this.players.find(isPlayer)\n  }\n}\n\nexport default PlayerAPI\n","// import React from 'react'\n// const AllPlayer = () => (\n//   <div>\n//     <h1>我是player页</h1>\n//   </div>\n// )\n// export default AllPlayer\n\nimport React, { useEffect } from 'react'\nimport PlayerAPI from '../api'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios'\n\nconst AllPlayer = () => {\n  useEffect(() => {\n    // 使用浏览器的 API 更新页面标题\n    //axios.defaults.withCredentials = true\n    // axios.get(\"https://192.168.1.161:8000/api/v1/component/componenttree\").then((res)=>{\n    //   console.info(res)\n    // })\n    axios({\n      method: 'get',\n      url: 'http://192.168.1.161:8000/api/v1/component/componenttree',\n      data: true,\n      withCredentials: true\n    }).then((res) => {\n      console.info(res)\n    })\n  });\n  return (\n    <div>\n      <ul>\n        {\n          PlayerAPI.all().map(p => (\n            <li key={p.id}>\n              <Link to={`/player/${p.id}`}>{p.name}</Link>\n            </li>\n          ))\n        }\n      </ul>\n    </div>\n  )\n}\n\nexport default AllPlayer\n\n\n\n","// import React from 'react'\n// const Player = () => (\n//   <div>\n//     <h1>我是playerDetail页</h1>\n//   </div>\n// )\n// export default Player\n\nimport React from 'react'\nimport PlayerAPI from '../api'\nimport { Link } from 'react-router-dom'\n\nconst Player = (props) => {\n  console.info(props)\n  const player = PlayerAPI.get(\n    parseInt(props.match.params.id, 10)\n  )\n  if (!player) {\n    return <div>对不起，没有找到对应的Player</div>\n  }\n  return (\n    <div>\n      <h1>{player.name} (#{player.id})</h1>\n      <h2>Position: {player.position}</h2>\n      <Link to='/player'>Back</Link>\n    </div>\n  )\n}\n\nexport default Player\n\n\n","import React from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport Home from './Home'\nimport Camera from './Camera'\nimport AllPlayer from './AllPlayer'\nimport Player from './Player'\n// import MyRoute from './MyRoute'\n\n// import FullRoster from './FullRoster'\n// import Roster from './Roster'\n// import Schedule from './Schedule'\n\nconst Main = () => (\n  <main>\n    <Switch>\n      <Route exact path='/' component={Home}/>\n      <Route exact path='/player' component={AllPlayer}/>\n      <Route path='/player/:id' component={Player}/>\n      <Route path='/camera' component={Camera}/>\n      {/* <Route path='/roster' component={Roster}/>\n      <Route path='/schedule' component={Schedule}/> */}\n    </Switch>\n  </main>\n)\n\nexport default Main\n","import React from 'react'\nimport cookie from \"react-cookies\";\nimport { Link } from 'react-router-dom'\nimport {\n  Menu,\n  Button\n} from \"element-react\";\nimport 'element-theme-default';\nimport PageLogin from '../pages/Login';\n\n// The Header creates links that can be used to navigate\n// between routes.\nconst Header = (props) => {\n  const handleLogout = (e) => {\n    e.preventDefault();\n    cookie.remove('token')\n    props.saveToken(null);\n  }\n  if (props.loginTokeh == null) {\n    return (<PageLogin></PageLogin>)\n  }\n  return (\n    <header>\n      <div>\n        <Menu theme=\"dark\" defaultActive=\"1\" className=\"el-menu-demo\" mode=\"horizontal\" onSelect={(e) => { console.info(e);; }}>\n          <Menu.Item index=\"1\">处理中心</Menu.Item>\n          <Menu.SubMenu index=\"2\" title=\"我的工作台\">\n            <Menu.Item index=\"2-1\"><Link to='/'>home</Link></Menu.Item>\n            <Menu.Item index=\"2-2\"><Link to='/player'>player</Link></Menu.Item>\n            <Menu.Item index=\"2-3\"><Link to='/player/2'>playerDetail2</Link></Menu.Item>\n            <Menu.Item index=\"2-3\"><Link to='/camera'>camera</Link></Menu.Item>\n          </Menu.SubMenu>\n          <Menu.Item index=\"3\" title=\"我的工作台\">订单管理</Menu.Item>\n        </Menu>\n        <div>\n          欢迎登陆:{props.loginTokeh}\n          <Button onClick={handleLogout}>登出</Button>\n        </div>\n      </div>\n      {/* <Layout.Row className=\"tac\">\n      <Layout.Col span={4}>\n        <Menu defaultActive=\"2\" className=\"el-menu-vertical-demo\" onOpen={function () { }} onClose={function () { }}>\n          <Menu.SubMenu index=\"1\" title={<span><i className=\"el-icon-message\"></i>导航一</span>}>\n            <Menu.ItemGroup title=\"分组一\">\n              <Menu.Item index=\"1-1\"><Link to='/'>home</Link></Menu.Item>\n              <Menu.Item index=\"1-2\"><Link to='/player'>player</Link></Menu.Item>\n            </Menu.ItemGroup>\n            <Menu.ItemGroup title=\"分组2\">\n              <Menu.Item index=\"1-3\"><Link to='/player/2'>playerDetail2</Link></Menu.Item>\n            </Menu.ItemGroup>\n          </Menu.SubMenu>\n          <Menu.Item index=\"2\"><i className=\"el-icon-menu\"></i><Link to='/player/3'>playerDetail3</Link></Menu.Item>\n          <Menu.Item index=\"3\"><i className=\"el-icon-setting\"></i><Link to='/player/4'>playerDetail4</Link></Menu.Item>\n        </Menu>hh\n      </Layout.Col>\n      <Layout.Col span={20}>\n      </Layout.Col>\n    </Layout.Row> */}\n    </header>\n  )\n}\n\nexport default Header\n","import React, {useState, useEffect } from 'react'; \r\nimport cookie from \"react-cookies\";\r\nimport PageLogin from './Login';\r\nimport Main from '../components/Main'\r\nimport Header from '../components/Header'\r\n\r\nexport default function AppLayout() {\r\n    const [token, setToken] = useState();\r\n\r\n    useEffect(() => {\r\n        let value = cookie.load('token');\r\n        setToken(value)\r\n    })\r\n\r\n    const saveToken = (token) => {\r\n        let cookieTime = new Date(new Date().getTime + 24 * 3600 * 1000);\r\n        if(token){\r\n            cookie.save('token', token, {\r\n                expires: cookieTime, \r\n                // sameSite:'none'\r\n            })\r\n        }\r\n        setToken(token)\r\n    }\r\n\r\n    if (!token) {\r\n        return <PageLogin saveToken={saveToken} />;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Header loginTokeh={token} saveToken={saveToken}>\r\n            </Header>\r\n            <Main>\r\n            </Main>\r\n        </div>\r\n    );\r\n}","// import React, { Component } from 'react';\n// import './App.css';\n// class App extends Component {\n//   render() {\n//     return (\n//       <div className=\"App\">\n//           <h1>hello world</h1>\n//       </div>\n//     );\n//   }\n// }\n// export default App;\n\nimport React from 'react'\nimport Main from './pages/Main'\n\nconst App = () => (\n  <Main>\n  </Main>\n)\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { BrowserRouter } from 'react-router-dom'\nReactDOM.render((\n  <BrowserRouter>\n    <App></App>\n  </BrowserRouter>\n), document.getElementById('root'))\n\n// ReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}